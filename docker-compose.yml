version: "3.9"

services:
  tg-drive:
    image: luocloud/tg-drive:latest
    container_name: tg-drive

    restart: unless-stopped

    ports:
      - "8000:8000"

    # 运行时注入环境变量（不进镜像）
    env_file:
      - .env

    # 数据持久化（SQLite data.db 在这里）
    volumes:
      - ./data:/data

    # 可选：限制资源，防止 bot 占满机器
    # deploy:
    #   resources:
    #     limits:
    #       cpus: "1.0"
    #       memory: 512M

